{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## NLP con TextBlob"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 1,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Importamos la librería textblob\n",
    "from textblob import TextBlob\n",
    "\n",
    "# Le entregamos la frase de texto a analizar\n",
    "analysis = TextBlob(\"This table is black\")"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## 1. Análisis de sentimiento\n",
    "\n",
    "* Con TextBlob, obtenemos una métrica de polaridad y subjetividad. La polaridad es el sentimiento mismo, que va de -1 a +1. La subjetividad es una medida del sentimiento siendo objetivo a subjetivo, y va de 0 a 1\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Sentiment(polarity=-0.16666666666666666, subjectivity=0.43333333333333335)\n"
     ]
    }
   ],
   "source": [
    "print(analysis.sentiment)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Estos valores indican que: \n",
    "* Polaridad = - 0.16 $\\Rightarrow$ Significa un texto más bien negativo\n",
    "* SUbjetividad = 0.43 $\\Rightarrow$ Tiende a ser más objetivo"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## 2. Tag's de cada palabra\n",
    "\n",
    "Se asigna un TAG a cada palabra, en el fondo es una etiqueta asociada. Aquí la lista completa de TAGS:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "[('This', 'DT'), ('table', 'NN'), ('is', 'VBZ'), ('black', 'JJ')]"
      ]
     },
     "execution_count": 3,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "tags = analysis.tags\n",
    "tags"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Cada palabra se asignó un determinado \"tag\", veamos que significan cada uno de ellos"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "DT : Determinador\n",
      "NN : sustantivo, singular “desk” (escritorio)\n",
      "VBZ : verbo, tercera persona\n",
      "JJ : Adjetivo ‘grande’\n"
     ]
    }
   ],
   "source": [
    "# Lista completa del significado de los tags\n",
    "tags_all = {'CC': 'Conjunción de coordinación',\n",
    "'CD': 'dígito cardinal',\n",
    "'DT': 'Determinador',\n",
    "'EX': 'existencial allí (como: “hay”… piensa en ello como “existe”)',\n",
    "'FW': 'palabra extranjera',\n",
    "'IN': 'preposición/junta subordinación',\n",
    "'JJ':  'Adjetivo ‘grande’',\n",
    "'JJR': 'Adjetivo comparativo ‘más grande',\n",
    "'JJS': 'Adjetivo  superlativo ‘más grande’.',\n",
    "'LS': 'Marcador de lista  1)',\n",
    "'MD': 'modal podría, podrá',\n",
    "'NN': 'sustantivo, singular “desk” (escritorio)',\n",
    "'NNS': 'sustantivo plural ‘escritorios',\n",
    "'NNP': 'sustantivo propio, singular “Harrison”',\n",
    "'NNPS': 'sustantivo propio, plural ‘Americanos',\n",
    "'PDT': 'Predeterminador ‘todos los niños’.',\n",
    "'POS': 'posesivo final ‘de los padres’',\n",
    "'PRP': 'pronombre personal ‘él, ella’',\n",
    "'PRP': 'pronombre posesivo ‘mi, suyo, de ella’',\n",
    "'RB': 'adverbio muy, silenciosamente,',\n",
    "'RBR': 'Adverbio  comparativamente mejor',\n",
    "'RBS': 'adverbio, superlativo mejor',\n",
    "'RP': 'partículas',\n",
    "'TO': 'particula de infinitivo',\n",
    "'UH': 'interjección jajaa',\n",
    "'VB': 'verbo, ‘beber’',\n",
    "'VBD': 'verbo, tiempo pasado ‘tomó’',\n",
    "'VBG': 'verbo, gerundio/presente participio tomando',\n",
    "'VBN': 'verbo, participio pasado tomado',\n",
    "'VBP': 'verbo, cantar presente',\n",
    "'VBZ': 'verbo, tercera persona',\n",
    "'WDT': 'wh-determiner (which…)',\n",
    "'WP': 'pronombre de pregunta (quién, qué)',\n",
    "'WP': 'posesivo con pronombre (cuyo)',\n",
    "'WRB': 'wh-abverb (donde, cuando)'}\n",
    "\n",
    "for palabra in tags:\n",
    "    print(palabra[1] + ' : ' + tags_all[palabra[1]])"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "De esta forma, podemos verificar los tags asociados a la oración\n",
    "\n",
    "## 3. Traducción a español"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Esta mesa es negra\n"
     ]
    }
   ],
   "source": [
    "print(analysis.translate(to='es'))"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## 4. Revisión de los métodos asociados a textblob"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "['__add__', '__class__', '__contains__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__len__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__', '_cmpkey', '_compare', '_create_sentence_objects', '_strkey', 'analyzer', 'classifier', 'classify', 'correct', 'detect_language', 'ends_with', 'endswith', 'find', 'format', 'index', 'join', 'json', 'lower', 'ngrams', 'noun_phrases', 'np_counts', 'np_extractor', 'parse', 'parser', 'polarity', 'pos_tagger', 'pos_tags', 'raw', 'raw_sentences', 'replace', 'rfind', 'rindex', 'sentences', 'sentiment', 'sentiment_assessments', 'serialized', 'split', 'starts_with', 'startswith', 'string', 'strip', 'stripped', 'subjectivity', 'tags', 'title', 'to_json', 'tokenize', 'tokenizer', 'tokens', 'translate', 'translator', 'upper', 'word_counts', 'words']\n"
     ]
    }
   ],
   "source": [
    "print(dir(analysis))"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Aquí podemos ver todos los métodos que contiene esta librería. Entre ellos ya hemos visto translate, tags y sentiment. Te animo a investigar y jugar con ellos."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Resumen de texto\n",
    "\n",
    "\n",
    "Tomaremos un discurso de Piñera, y haremos un resumen de este.\n",
    "\n",
    "Específicamente el dicurso del 19 de Octubre post-estallido social\n",
    "\n",
    "El proceso a seguir es:\n",
    "\n",
    "* Text cleaning & Sentence Tokenization\n",
    "* Word tokenization\n",
    "* Word-frequency table\n",
    "* Summarization"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "'Queridos compatriotas. Frente a los graves y reiterados ataques y atentados contra las estaciones y las instalaciones del Metro de Santiago, contra el orden público y la seguridad ciudadana y contra la propiedad tanto público como privada que hemos conocido en los últimos días de la ciudad de Santiago que han afectado gravemente la libre circulación y la seguridad de los habitantes de la ciudad de Santiago y además han alterado gravemente el orden público, y haciendo uso de las facultades que como Presidente de Chile me otorga la Constitución y la Ley he decretado Estado de Emergencia en las provincias de Santiago y Chacabuco y en las comunas de Puente alto y San Bernardo en la Región Metropolitana.\\nPara estos efectos he designado al General de División Javier Iturriaga del Campo como Jefe de la Defensa Nacional de acuerdo a lo establecido en nuestra legislación respecto de Estado de Emergencia.}\\nEl objetivo de este Estado de Emergencia es muy simple, pero muy profundo. asegurar el orden público, asegurar la tranquilidad de los habitantes de la ciudad de Santiago, proteger los bienes tanto públicos como privados y, por sobre todo, garantizar los derechos de todos y cada uno de nuestros compatriotas que se han visto seriamente conculcados por la acción de verdaderos delincuentes que no respetan a nada ni a nadie, que están dispuesto a destruir una institución tan útil y necesaria como es el Metro, y que además no respetan los derechos ni las libertades de sus compatriotas.\\nAdicionalmente, como lo anunciamos el día de hoy hemos invocado la Ley de Seguridad del Estado a través de querellas que persiguen el objetivo de que las personas que han cometido esos gravísimos actos de delincuencia enfrenten a la justicia y asuman sus responsabilidades.\\nEn una democracia, un estado de derecho como el que con tanto esfuerzo hemos construido todos los chilenos en nuestro país, no debe haber espacio alguno para la violencia ni la delincuencia que hemos conocido en los últimos días en nuestra ciudad.\\nComo Presidente estoy absolutamente consciente de las dificultades y de las carencias que afectan a muchos de nuestros compatriotas, y quiero decirlo en forma muy clara. que contribuir a resolver sus problemas, a crearles oportunidades oportunidad y ayudarlos a cumplir sus sueños es el norte, el principal norte que guía cada uno de los actos de nuestro Gobierno.\\nEl alza ocurrida en los precios de los pasajes del Metro obedece al mandato de la ley, responde al alza que ha ocurrido en el precio del dólar, en el precio del petróleo y fue determinado por un panel de expertos tal como lo establece la ley.\\nPero yo comprendo perfectamente bien y solidarizo con muchos de mis compatriotas que se ven afectados por ese tipo de alzas. Por esa razón, en los próximos días nuestro Gobierno va a convocar a un diálogo transversal y va a hacer todos los esfuerzos a nuestro alcance para poder atenuar y aliviar la situación de nuestros compatriotas que se han visto afectados por esta alza en el precio del Metro, de forma tal de poder contribuir a que los más vulnerables y los más necesitados tengan la ayuda que necesitan.\\nQuiero terminar estas palabras agradeciendo sinceramente a Carabineros de Chile y a los Bomberos de Chile por la entrega, por el sacrificio, por el compromiso que han demostrado por defender nuestra seguridad, por defender nuestra ciudad, por defender nuestro estado de derecho.\\nY también hacer un ferviente llamado a todos los hombres y mujeres de buena voluntad en nuestro país, que somos la inmensa mayoría de los chilenos a unirnos férreamente contra la violencia desatada, contra la delincuencia gravísima que hemos conocido en los últimos días, que tanto daño le causaron a nuestro país y especialmente a nuestros sectores más vulnerables y a nuestra clase media\\nEstoy convencido que con la unidad de todos los chilenos en un mundo difícil como los tiempos que estamos viviendo, Chile va a poder seguir avanzando, seguir contribuyendo a resolver los problemas, seguir impulsando una mejor calidad de vida y contribuyendo a que todos nuestros compatriotas puedan tener una vida más plena y más feliz.\\nÉsa es la razón que me hace levantarme muy temprano todas las mañanas y acostarme muy tarde todas las noches, porque ése es el deber que como Presidente de Chile yo siento con todos mis compatriotas.\\nMuchas gracias.'"
      ]
     },
     "execution_count": 7,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Cargamos el texto\n",
    "\n",
    "discurso = '/Users/fsanmartin/Piñera_discursos_analisis/oct_19_est_emer.txt'\n",
    "\n",
    "f = open(discurso, \"r\", encoding=\"utf8\") # abrir archivo\n",
    "text = f.read()\n",
    "text"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Algunas librerías para trabajar\n",
    "import spacy\n",
    "from spacy.lang.es.stop_words import STOP_WORDS\n",
    "from string import punctuation"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "metadata": {},
   "outputs": [],
   "source": [
    "stopwords = list(STOP_WORDS)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "metadata": {},
   "outputs": [],
   "source": [
    "nlp = spacy.load('es_core_news_md')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 11,
   "metadata": {},
   "outputs": [],
   "source": [
    "doc = nlp(text)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 12,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "['Queridos', 'compatriotas', '.', 'Frente', 'a', 'los', 'graves', 'y', 'reiterados', 'ataques', 'y', 'atentados', 'contra', 'las', 'estaciones', 'y', 'las', 'instalaciones', 'del', 'Metro', 'de', 'Santiago', ',', 'contra', 'el', 'orden', 'público', 'y', 'la', 'seguridad', 'ciudadana', 'y', 'contra', 'la', 'propiedad', 'tanto', 'público', 'como', 'privada', 'que', 'hemos', 'conocido', 'en', 'los', 'últimos', 'días', 'de', 'la', 'ciudad', 'de', 'Santiago', 'que', 'han', 'afectado', 'gravemente', 'la', 'libre', 'circulación', 'y', 'la', 'seguridad', 'de', 'los', 'habitantes', 'de', 'la', 'ciudad', 'de', 'Santiago', 'y', 'además', 'han', 'alterado', 'gravemente', 'el', 'orden', 'público', ',', 'y', 'haciendo', 'uso', 'de', 'las', 'facultades', 'que', 'como', 'Presidente', 'de', 'Chile', 'me', 'otorga', 'la', 'Constitución', 'y', 'la', 'Ley', 'he', 'decretado', 'Estado', 'de', 'Emergencia', 'en', 'las', 'provincias', 'de', 'Santiago', 'y', 'Chacabuco', 'y', 'en', 'las', 'comunas', 'de', 'Puente', 'alto', 'y', 'San', 'Bernardo', 'en', 'la', 'Región', 'Metropolitana', '.', '\\n', 'Para', 'estos', 'efectos', 'he', 'designado', 'al', 'General', 'de', 'División', 'Javier', 'Iturriaga', 'del', 'Campo', 'como', 'Jefe', 'de', 'la', 'Defensa', 'Nacional', 'de', 'acuerdo', 'a', 'lo', 'establecido', 'en', 'nuestra', 'legislación', 'respecto', 'de', 'Estado', 'de', 'Emergencia', '.', '}', '\\n', 'El', 'objetivo', 'de', 'este', 'Estado', 'de', 'Emergencia', 'es', 'muy', 'simple', ',', 'pero', 'muy', 'profundo', '.', 'asegurar', 'el', 'orden', 'público', ',', 'asegurar', 'la', 'tranquilidad', 'de', 'los', 'habitantes', 'de', 'la', 'ciudad', 'de', 'Santiago', ',', 'proteger', 'los', 'bienes', 'tanto', 'públicos', 'como', 'privados', 'y', ',', 'por', 'sobre', 'todo', ',', 'garantizar', 'los', 'derechos', 'de', 'todos', 'y', 'cada', 'uno', 'de', 'nuestros', 'compatriotas', 'que', 'se', 'han', 'visto', 'seriamente', 'conculcados', 'por', 'la', 'acción', 'de', 'verdaderos', 'delincuentes', 'que', 'no', 'respetan', 'a', 'nada', 'ni', 'a', 'nadie', ',', 'que', 'están', 'dispuesto', 'a', 'destruir', 'una', 'institución', 'tan', 'útil', 'y', 'necesaria', 'como', 'es', 'el', 'Metro', ',', 'y', 'que', 'además', 'no', 'respetan', 'los', 'derechos', 'ni', 'las', 'libertades', 'de', 'sus', 'compatriotas', '.', '\\n', 'Adicionalmente', ',', 'como', 'lo', 'anunciamos', 'el', 'día', 'de', 'hoy', 'hemos', 'invocado', 'la', 'Ley', 'de', 'Seguridad', 'del', 'Estado', 'a', 'través', 'de', 'querellas', 'que', 'persiguen', 'el', 'objetivo', 'de', 'que', 'las', 'personas', 'que', 'han', 'cometido', 'esos', 'gravísimos', 'actos', 'de', 'delincuencia', 'enfrenten', 'a', 'la', 'justicia', 'y', 'asuman', 'sus', 'responsabilidades', '.', '\\n', 'En', 'una', 'democracia', ',', 'un', 'estado', 'de', 'derecho', 'como', 'el', 'que', 'con', 'tanto', 'esfuerzo', 'hemos', 'construido', 'todos', 'los', 'chilenos', 'en', 'nuestro', 'país', ',', 'no', 'debe', 'haber', 'espacio', 'alguno', 'para', 'la', 'violencia', 'ni', 'la', 'delincuencia', 'que', 'hemos', 'conocido', 'en', 'los', 'últimos', 'días', 'en', 'nuestra', 'ciudad', '.', '\\n', 'Como', 'Presidente', 'estoy', 'absolutamente', 'consciente', 'de', 'las', 'dificultades', 'y', 'de', 'las', 'carencias', 'que', 'afectan', 'a', 'muchos', 'de', 'nuestros', 'compatriotas', ',', 'y', 'quiero', 'decirlo', 'en', 'forma', 'muy', 'clara', '.', 'que', 'contribuir', 'a', 'resolver', 'sus', 'problemas', ',', 'a', 'crearles', 'oportunidades', 'oportunidad', 'y', 'ayudarlos', 'a', 'cumplir', 'sus', 'sueños', 'es', 'el', 'norte', ',', 'el', 'principal', 'norte', 'que', 'guía', 'cada', 'uno', 'de', 'los', 'actos', 'de', 'nuestro', 'Gobierno', '.', '\\n', 'El', 'alza', 'ocurrida', 'en', 'los', 'precios', 'de', 'los', 'pasajes', 'del', 'Metro', 'obedece', 'al', 'mandato', 'de', 'la', 'ley', ',', 'responde', 'al', 'alza', 'que', 'ha', 'ocurrido', 'en', 'el', 'precio', 'del', 'dólar', ',', 'en', 'el', 'precio', 'del', 'petróleo', 'y', 'fue', 'determinado', 'por', 'un', 'panel', 'de', 'expertos', 'tal', 'como', 'lo', 'establece', 'la', 'ley', '.', '\\n', 'Pero', 'yo', 'comprendo', 'perfectamente', 'bien', 'y', 'solidarizo', 'con', 'muchos', 'de', 'mis', 'compatriotas', 'que', 'se', 'ven', 'afectados', 'por', 'ese', 'tipo', 'de', 'alzas', '.', 'Por', 'esa', 'razón', ',', 'en', 'los', 'próximos', 'días', 'nuestro', 'Gobierno', 'va', 'a', 'convocar', 'a', 'un', 'diálogo', 'transversal', 'y', 'va', 'a', 'hacer', 'todos', 'los', 'esfuerzos', 'a', 'nuestro', 'alcance', 'para', 'poder', 'atenuar', 'y', 'aliviar', 'la', 'situación', 'de', 'nuestros', 'compatriotas', 'que', 'se', 'han', 'visto', 'afectados', 'por', 'esta', 'alza', 'en', 'el', 'precio', 'del', 'Metro', ',', 'de', 'forma', 'tal', 'de', 'poder', 'contribuir', 'a', 'que', 'los', 'más', 'vulnerables', 'y', 'los', 'más', 'necesitados', 'tengan', 'la', 'ayuda', 'que', 'necesitan', '.', '\\n', 'Quiero', 'terminar', 'estas', 'palabras', 'agradeciendo', 'sinceramente', 'a', 'Carabineros', 'de', 'Chile', 'y', 'a', 'los', 'Bomberos', 'de', 'Chile', 'por', 'la', 'entrega', ',', 'por', 'el', 'sacrificio', ',', 'por', 'el', 'compromiso', 'que', 'han', 'demostrado', 'por', 'defender', 'nuestra', 'seguridad', ',', 'por', 'defender', 'nuestra', 'ciudad', ',', 'por', 'defender', 'nuestro', 'estado', 'de', 'derecho', '.', '\\n', 'Y', 'también', 'hacer', 'un', 'ferviente', 'llamado', 'a', 'todos', 'los', 'hombres', 'y', 'mujeres', 'de', 'buena', 'voluntad', 'en', 'nuestro', 'país', ',', 'que', 'somos', 'la', 'inmensa', 'mayoría', 'de', 'los', 'chilenos', 'a', 'unirnos', 'férreamente', 'contra', 'la', 'violencia', 'desatada', ',', 'contra', 'la', 'delincuencia', 'gravísima', 'que', 'hemos', 'conocido', 'en', 'los', 'últimos', 'días', ',', 'que', 'tanto', 'daño', 'le', 'causaron', 'a', 'nuestro', 'país', 'y', 'especialmente', 'a', 'nuestros', 'sectores', 'más', 'vulnerables', 'y', 'a', 'nuestra', 'clase', 'media', '\\n', 'Estoy', 'convencido', 'que', 'con', 'la', 'unidad', 'de', 'todos', 'los', 'chilenos', 'en', 'un', 'mundo', 'difícil', 'como', 'los', 'tiempos', 'que', 'estamos', 'viviendo', ',', 'Chile', 'va', 'a', 'poder', 'seguir', 'avanzando', ',', 'seguir', 'contribuyendo', 'a', 'resolver', 'los', 'problemas', ',', 'seguir', 'impulsando', 'una', 'mejor', 'calidad', 'de', 'vida', 'y', 'contribuyendo', 'a', 'que', 'todos', 'nuestros', 'compatriotas', 'puedan', 'tener', 'una', 'vida', 'más', 'plena', 'y', 'más', 'feliz', '.', '\\n', 'Ésa', 'es', 'la', 'razón', 'que', 'me', 'hace', 'levantarme', 'muy', 'temprano', 'todas', 'las', 'mañanas', 'y', 'acostarme', 'muy', 'tarde', 'todas', 'las', 'noches', ',', 'porque', 'ése', 'es', 'el', 'deber', 'que', 'como', 'Presidente', 'de', 'Chile', 'yo', 'siento', 'con', 'todos', 'mis', 'compatriotas', '.', '\\n', 'Muchas', 'gracias', '.']\n"
     ]
    }
   ],
   "source": [
    "tokens = [token.text for token in doc]\n",
    "print(tokens)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 13,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "'!\"#$%&\\'()*+,-./:;<=>?@[\\\\]^_`{|}~\\n'"
      ]
     },
     "execution_count": 13,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "punctuation = punctuation + '\\n'\n",
    "punctuation"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 14,
   "metadata": {},
   "outputs": [],
   "source": [
    "word_frequencies = {}\n",
    "for word in doc:\n",
    "    if word.text.lower() not in stopwords:\n",
    "        if word.text.lower() not in punctuation:\n",
    "            if word.text not in word_frequencies.keys():\n",
    "                word_frequencies[word.text] = 1\n",
    "            else:\n",
    "                word_frequencies[word.text] += 1"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 15,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "{'Queridos': 1, 'compatriotas': 8, 'Frente': 1, 'a': 26, 'graves': 1, 'y': 32, 'reiterados': 1, 'ataques': 1, 'atentados': 1, 'estaciones': 1, 'instalaciones': 1, 'Metro': 4, 'Santiago': 5, 'orden': 3, 'público': 4, 'seguridad': 3, 'ciudadana': 1, 'propiedad': 1, 'privada': 1, 'conocido': 3, 'ciudad': 5, 'afectado': 1, 'gravemente': 2, 'libre': 1, 'circulación': 1, 'habitantes': 2, 'alterado': 1, 'facultades': 1, 'Presidente': 3, 'Chile': 5, 'otorga': 1, 'Constitución': 1, 'Ley': 2, 'decretado': 1, 'Emergencia': 3, 'provincias': 1, 'Chacabuco': 1, 'comunas': 1, 'Puente': 1, 'alto': 1, 'San': 1, 'Bernardo': 1, 'Región': 1, 'Metropolitana': 1, 'efectos': 1, 'designado': 1, 'División': 1, 'Javier': 1, 'Iturriaga': 1, 'Campo': 1, 'Jefe': 1, 'Defensa': 1, 'Nacional': 1, 'establecido': 1, 'legislación': 1, 'objetivo': 2, 'simple': 1, 'profundo': 1, 'asegurar': 2, 'tranquilidad': 1, 'proteger': 1, 'bienes': 1, 'públicos': 1, 'privados': 1, 'garantizar': 1, 'derechos': 2, 'visto': 2, 'seriamente': 1, 'conculcados': 1, 'acción': 1, 'verdaderos': 1, 'delincuentes': 1, 'respetan': 2, 'dispuesto': 1, 'destruir': 1, 'institución': 1, 'útil': 1, 'necesaria': 1, 'libertades': 1, 'Adicionalmente': 1, 'anunciamos': 1, 'invocado': 1, 'Seguridad': 1, 'querellas': 1, 'persiguen': 1, 'personas': 1, 'cometido': 1, 'gravísimos': 1, 'actos': 2, 'delincuencia': 3, 'enfrenten': 1, 'justicia': 1, 'asuman': 1, 'responsabilidades': 1, 'democracia': 1, 'derecho': 2, 'esfuerzo': 1, 'construido': 1, 'chilenos': 3, 'país': 3, 'espacio': 1, 'violencia': 2, 'absolutamente': 1, 'consciente': 1, 'dificultades': 1, 'carencias': 1, 'afectan': 1, 'quiero': 1, 'decirlo': 1, 'forma': 2, 'clara': 1, 'contribuir': 2, 'resolver': 2, 'problemas': 2, 'crearles': 1, 'oportunidades': 1, 'oportunidad': 1, 'ayudarlos': 1, 'cumplir': 1, 'sueños': 1, 'norte': 2, 'principal': 1, 'guía': 1, 'Gobierno': 2, 'alza': 3, 'ocurrida': 1, 'precios': 1, 'pasajes': 1, 'obedece': 1, 'mandato': 1, 'ley': 2, 'responde': 1, 'ocurrido': 1, 'precio': 3, 'dólar': 1, 'petróleo': 1, 'determinado': 1, 'panel': 1, 'expertos': 1, 'establece': 1, 'comprendo': 1, 'perfectamente': 1, 'solidarizo': 1, 'ven': 1, 'afectados': 2, 'tipo': 1, 'alzas': 1, 'razón': 2, 'convocar': 1, 'diálogo': 1, 'transversal': 1, 'esfuerzos': 1, 'alcance': 1, 'atenuar': 1, 'aliviar': 1, 'situación': 1, 'vulnerables': 2, 'necesitados': 1, 'tengan': 1, 'ayuda': 1, 'necesitan': 1, 'Quiero': 1, 'terminar': 1, 'palabras': 1, 'agradeciendo': 1, 'sinceramente': 1, 'Carabineros': 1, 'Bomberos': 1, 'entrega': 1, 'sacrificio': 1, 'compromiso': 1, 'demostrado': 1, 'defender': 3, 'Y': 1, 'ferviente': 1, 'llamado': 1, 'hombres': 1, 'mujeres': 1, 'voluntad': 1, 'inmensa': 1, 'mayoría': 1, 'unirnos': 1, 'férreamente': 1, 'desatada': 1, 'gravísima': 1, 'daño': 1, 'causaron': 1, 'especialmente': 1, 'sectores': 1, 'clase': 1, 'media': 1, 'convencido': 1, 'unidad': 1, 'mundo': 1, 'difícil': 1, 'tiempos': 1, 'viviendo': 1, 'seguir': 3, 'avanzando': 1, 'contribuyendo': 2, 'impulsando': 1, 'calidad': 1, 'vida': 2, 'puedan': 1, 'plena': 1, 'feliz': 1, 'levantarme': 1, 'mañanas': 1, 'acostarme': 1, 'noches': 1, 'deber': 1, 'siento': 1, 'gracias': 1}\n"
     ]
    }
   ],
   "source": [
    "print(word_frequencies)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 16,
   "metadata": {},
   "outputs": [],
   "source": [
    "max_frequency = max(word_frequencies.values())"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 17,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "32"
      ]
     },
     "execution_count": 17,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "max_frequency"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 18,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "{'Queridos': 0.03125, 'compatriotas': 0.25, 'Frente': 0.03125, 'a': 0.8125, 'graves': 0.03125, 'y': 1.0, 'reiterados': 0.03125, 'ataques': 0.03125, 'atentados': 0.03125, 'estaciones': 0.03125, 'instalaciones': 0.03125, 'Metro': 0.125, 'Santiago': 0.15625, 'orden': 0.09375, 'público': 0.125, 'seguridad': 0.09375, 'ciudadana': 0.03125, 'propiedad': 0.03125, 'privada': 0.03125, 'conocido': 0.09375, 'ciudad': 0.15625, 'afectado': 0.03125, 'gravemente': 0.0625, 'libre': 0.03125, 'circulación': 0.03125, 'habitantes': 0.0625, 'alterado': 0.03125, 'facultades': 0.03125, 'Presidente': 0.09375, 'Chile': 0.15625, 'otorga': 0.03125, 'Constitución': 0.03125, 'Ley': 0.0625, 'decretado': 0.03125, 'Emergencia': 0.09375, 'provincias': 0.03125, 'Chacabuco': 0.03125, 'comunas': 0.03125, 'Puente': 0.03125, 'alto': 0.03125, 'San': 0.03125, 'Bernardo': 0.03125, 'Región': 0.03125, 'Metropolitana': 0.03125, 'efectos': 0.03125, 'designado': 0.03125, 'División': 0.03125, 'Javier': 0.03125, 'Iturriaga': 0.03125, 'Campo': 0.03125, 'Jefe': 0.03125, 'Defensa': 0.03125, 'Nacional': 0.03125, 'establecido': 0.03125, 'legislación': 0.03125, 'objetivo': 0.0625, 'simple': 0.03125, 'profundo': 0.03125, 'asegurar': 0.0625, 'tranquilidad': 0.03125, 'proteger': 0.03125, 'bienes': 0.03125, 'públicos': 0.03125, 'privados': 0.03125, 'garantizar': 0.03125, 'derechos': 0.0625, 'visto': 0.0625, 'seriamente': 0.03125, 'conculcados': 0.03125, 'acción': 0.03125, 'verdaderos': 0.03125, 'delincuentes': 0.03125, 'respetan': 0.0625, 'dispuesto': 0.03125, 'destruir': 0.03125, 'institución': 0.03125, 'útil': 0.03125, 'necesaria': 0.03125, 'libertades': 0.03125, 'Adicionalmente': 0.03125, 'anunciamos': 0.03125, 'invocado': 0.03125, 'Seguridad': 0.03125, 'querellas': 0.03125, 'persiguen': 0.03125, 'personas': 0.03125, 'cometido': 0.03125, 'gravísimos': 0.03125, 'actos': 0.0625, 'delincuencia': 0.09375, 'enfrenten': 0.03125, 'justicia': 0.03125, 'asuman': 0.03125, 'responsabilidades': 0.03125, 'democracia': 0.03125, 'derecho': 0.0625, 'esfuerzo': 0.03125, 'construido': 0.03125, 'chilenos': 0.09375, 'país': 0.09375, 'espacio': 0.03125, 'violencia': 0.0625, 'absolutamente': 0.03125, 'consciente': 0.03125, 'dificultades': 0.03125, 'carencias': 0.03125, 'afectan': 0.03125, 'quiero': 0.03125, 'decirlo': 0.03125, 'forma': 0.0625, 'clara': 0.03125, 'contribuir': 0.0625, 'resolver': 0.0625, 'problemas': 0.0625, 'crearles': 0.03125, 'oportunidades': 0.03125, 'oportunidad': 0.03125, 'ayudarlos': 0.03125, 'cumplir': 0.03125, 'sueños': 0.03125, 'norte': 0.0625, 'principal': 0.03125, 'guía': 0.03125, 'Gobierno': 0.0625, 'alza': 0.09375, 'ocurrida': 0.03125, 'precios': 0.03125, 'pasajes': 0.03125, 'obedece': 0.03125, 'mandato': 0.03125, 'ley': 0.0625, 'responde': 0.03125, 'ocurrido': 0.03125, 'precio': 0.09375, 'dólar': 0.03125, 'petróleo': 0.03125, 'determinado': 0.03125, 'panel': 0.03125, 'expertos': 0.03125, 'establece': 0.03125, 'comprendo': 0.03125, 'perfectamente': 0.03125, 'solidarizo': 0.03125, 'ven': 0.03125, 'afectados': 0.0625, 'tipo': 0.03125, 'alzas': 0.03125, 'razón': 0.0625, 'convocar': 0.03125, 'diálogo': 0.03125, 'transversal': 0.03125, 'esfuerzos': 0.03125, 'alcance': 0.03125, 'atenuar': 0.03125, 'aliviar': 0.03125, 'situación': 0.03125, 'vulnerables': 0.0625, 'necesitados': 0.03125, 'tengan': 0.03125, 'ayuda': 0.03125, 'necesitan': 0.03125, 'Quiero': 0.03125, 'terminar': 0.03125, 'palabras': 0.03125, 'agradeciendo': 0.03125, 'sinceramente': 0.03125, 'Carabineros': 0.03125, 'Bomberos': 0.03125, 'entrega': 0.03125, 'sacrificio': 0.03125, 'compromiso': 0.03125, 'demostrado': 0.03125, 'defender': 0.09375, 'Y': 0.03125, 'ferviente': 0.03125, 'llamado': 0.03125, 'hombres': 0.03125, 'mujeres': 0.03125, 'voluntad': 0.03125, 'inmensa': 0.03125, 'mayoría': 0.03125, 'unirnos': 0.03125, 'férreamente': 0.03125, 'desatada': 0.03125, 'gravísima': 0.03125, 'daño': 0.03125, 'causaron': 0.03125, 'especialmente': 0.03125, 'sectores': 0.03125, 'clase': 0.03125, 'media': 0.03125, 'convencido': 0.03125, 'unidad': 0.03125, 'mundo': 0.03125, 'difícil': 0.03125, 'tiempos': 0.03125, 'viviendo': 0.03125, 'seguir': 0.09375, 'avanzando': 0.03125, 'contribuyendo': 0.0625, 'impulsando': 0.03125, 'calidad': 0.03125, 'vida': 0.0625, 'puedan': 0.03125, 'plena': 0.03125, 'feliz': 0.03125, 'levantarme': 0.03125, 'mañanas': 0.03125, 'acostarme': 0.03125, 'noches': 0.03125, 'deber': 0.03125, 'siento': 0.03125, 'gracias': 0.03125}\n"
     ]
    }
   ],
   "source": [
    "for word in word_frequencies.keys():\n",
    "    word_frequencies[word] = word_frequencies[word]/max_frequency\n",
    "\n",
    "print(word_frequencies)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 19,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "[Queridos compatriotas., Frente a los graves y reiterados ataques y atentados contra las estaciones y las instalaciones del Metro de Santiago, contra el orden público y la seguridad ciudadana y contra la propiedad tanto público como privada que hemos conocido en los últimos días de la ciudad de Santiago que han afectado gravemente la libre circulación y la seguridad de los habitantes de la ciudad de Santiago y además han alterado gravemente el orden público, y haciendo uso de las facultades que como Presidente de Chile me otorga la Constitución y la Ley he decretado Estado de Emergencia en las provincias de Santiago y Chacabuco y en las comunas de Puente alto y San Bernardo en la Región Metropolitana.\n",
      ", Para estos efectos he designado al General de División Javier Iturriaga del Campo como Jefe de la Defensa Nacional de acuerdo a lo establecido en nuestra legislación respecto de Estado de Emergencia., }\n",
      "El objetivo de este Estado de Emergencia es muy simple, pero muy profundo., asegurar el orden público, asegurar la tranquilidad de los habitantes de la ciudad de Santiago, proteger los bienes tanto públicos como privados y, por sobre todo, garantizar los derechos de todos y cada uno de nuestros compatriotas que se han visto seriamente conculcados por la acción de verdaderos delincuentes que no respetan a nada ni a nadie, que están dispuesto a destruir una institución tan útil y necesaria como es el Metro, y que además no respetan los derechos ni las libertades de sus compatriotas.\n",
      ", Adicionalmente, como lo anunciamos el día de hoy hemos invocado la Ley de Seguridad del Estado a través de querellas que persiguen el objetivo de que las personas que han cometido esos gravísimos actos de delincuencia enfrenten a la justicia y asuman sus responsabilidades.\n",
      ", En una democracia, un estado de derecho como el que con tanto esfuerzo hemos construido todos los chilenos en nuestro país, no debe haber espacio alguno para la violencia ni la delincuencia que hemos conocido en los últimos días en nuestra ciudad.\n",
      ", Como Presidente estoy absolutamente consciente de las dificultades y de las carencias que afectan a muchos de nuestros compatriotas, y quiero decirlo en forma muy clara., que contribuir a resolver sus problemas, a crearles oportunidades oportunidad y ayudarlos a cumplir sus sueños es el norte, el principal norte que guía cada uno de los actos de nuestro Gobierno.\n",
      ", El alza ocurrida en los precios de los pasajes del Metro obedece al mandato de la ley, responde al alza que ha ocurrido en el precio del dólar, en el precio del petróleo y fue determinado por un panel de expertos tal como lo establece la ley.\n",
      ", Pero yo comprendo perfectamente bien y solidarizo con muchos de mis compatriotas que se ven afectados por ese tipo de alzas., Por esa razón, en los próximos días nuestro Gobierno va a convocar a un diálogo transversal y va a hacer todos los esfuerzos a nuestro alcance para poder atenuar y aliviar la situación de nuestros compatriotas que se han visto afectados por esta alza en el precio del Metro, de forma tal de poder contribuir a que los más vulnerables y los más necesitados tengan la ayuda que necesitan.\n",
      ", Quiero terminar estas palabras agradeciendo sinceramente a Carabineros de Chile y a los Bomberos de Chile por la entrega, por el sacrificio, por el compromiso que han demostrado por defender nuestra seguridad, por defender nuestra ciudad, por defender nuestro estado de derecho.\n",
      ", Y también hacer un ferviente llamado a todos los hombres y mujeres de buena voluntad en nuestro país, que somos la inmensa mayoría de los chilenos a unirnos férreamente contra la violencia desatada, contra la delincuencia gravísima que hemos conocido en los últimos días, que tanto daño le causaron a nuestro país y especialmente a nuestros sectores más vulnerables y a nuestra clase media\n",
      "Estoy convencido que con la unidad de todos los chilenos en un mundo difícil como los tiempos que estamos viviendo, Chile va a poder seguir avanzando, seguir contribuyendo a resolver los problemas, seguir impulsando una mejor calidad de vida y contribuyendo a que todos nuestros compatriotas puedan tener una vida más plena y más feliz.\n",
      ", Ésa es la razón que me hace levantarme muy temprano todas las mañanas y acostarme muy tarde todas las noches, porque ése es el deber que como Presidente de Chile yo siento con todos mis compatriotas.\n",
      ", Muchas gracias.]\n"
     ]
    }
   ],
   "source": [
    "sentence_tokens = [sent for sent in doc.sents]\n",
    "print(sentence_tokens)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 20,
   "metadata": {},
   "outputs": [],
   "source": [
    "sentence_scores = {}\n",
    "for sent in sentence_tokens:\n",
    "    for word in sent:\n",
    "        if word.text.lower() in word_frequencies.keys():\n",
    "            if sent not in sentence_scores.keys():\n",
    "                sentence_scores[sent] = word_frequencies[word.text.lower()]\n",
    "            else:\n",
    "                sentence_scores[sent] += word_frequencies[word.text.lower()]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 21,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "{Queridos compatriotas.: 0.25,\n",
       " Frente a los graves y reiterados ataques y atentados contra las estaciones y las instalaciones del Metro de Santiago, contra el orden público y la seguridad ciudadana y contra la propiedad tanto público como privada que hemos conocido en los últimos días de la ciudad de Santiago que han afectado gravemente la libre circulación y la seguridad de los habitantes de la ciudad de Santiago y además han alterado gravemente el orden público, y haciendo uso de las facultades que como Presidente de Chile me otorga la Constitución y la Ley he decretado Estado de Emergencia en las provincias de Santiago y Chacabuco y en las comunas de Puente alto y San Bernardo en la Región Metropolitana.: 14.8125,\n",
       " Para estos efectos he designado al General de División Javier Iturriaga del Campo como Jefe de la Defensa Nacional de acuerdo a lo establecido en nuestra legislación respecto de Estado de Emergencia.: 0.9375,\n",
       " }\n",
       " El objetivo de este Estado de Emergencia es muy simple, pero muy profundo.: 0.125,\n",
       " asegurar el orden público, asegurar la tranquilidad de los habitantes de la ciudad de Santiago, proteger los bienes tanto públicos como privados y, por sobre todo, garantizar los derechos de todos y cada uno de nuestros compatriotas que se han visto seriamente conculcados por la acción de verdaderos delincuentes que no respetan a nada ni a nadie, que están dispuesto a destruir una institución tan útil y necesaria como es el Metro, y que además no respetan los derechos ni las libertades de sus compatriotas.: 8.34375,\n",
       " Adicionalmente, como lo anunciamos el día de hoy hemos invocado la Ley de Seguridad del Estado a través de querellas que persiguen el objetivo de que las personas que han cometido esos gravísimos actos de delincuencia enfrenten a la justicia y asuman sus responsabilidades.: 3.34375,\n",
       " En una democracia, un estado de derecho como el que con tanto esfuerzo hemos construido todos los chilenos en nuestro país, no debe haber espacio alguno para la violencia ni la delincuencia que hemos conocido en los últimos días en nuestra ciudad.: 0.78125,\n",
       " Como Presidente estoy absolutamente consciente de las dificultades y de las carencias que afectan a muchos de nuestros compatriotas, y quiero decirlo en forma muy clara.: 3.375,\n",
       " que contribuir a resolver sus problemas, a crearles oportunidades oportunidad y ayudarlos a cumplir sus sueños es el norte, el principal norte que guía cada uno de los actos de nuestro Gobierno.: 4.0625,\n",
       " El alza ocurrida en los precios de los pasajes del Metro obedece al mandato de la ley, responde al alza que ha ocurrido en el precio del dólar, en el precio del petróleo y fue determinado por un panel de expertos tal como lo establece la ley.: 1.90625,\n",
       " Pero yo comprendo perfectamente bien y solidarizo con muchos de mis compatriotas que se ven afectados por ese tipo de alzas.: 1.5,\n",
       " Por esa razón, en los próximos días nuestro Gobierno va a convocar a un diálogo transversal y va a hacer todos los esfuerzos a nuestro alcance para poder atenuar y aliviar la situación de nuestros compatriotas que se han visto afectados por esta alza en el precio del Metro, de forma tal de poder contribuir a que los más vulnerables y los más necesitados tengan la ayuda que necesitan.: 8.25,\n",
       " Quiero terminar estas palabras agradeciendo sinceramente a Carabineros de Chile y a los Bomberos de Chile por la entrega, por el sacrificio, por el compromiso que han demostrado por defender nuestra seguridad, por defender nuestra ciudad, por defender nuestro estado de derecho.: 3.5,\n",
       " Y también hacer un ferviente llamado a todos los hombres y mujeres de buena voluntad en nuestro país, que somos la inmensa mayoría de los chilenos a unirnos férreamente contra la violencia desatada, contra la delincuencia gravísima que hemos conocido en los últimos días, que tanto daño le causaron a nuestro país y especialmente a nuestros sectores más vulnerables y a nuestra clase media\n",
       " Estoy convencido que con la unidad de todos los chilenos en un mundo difícil como los tiempos que estamos viviendo, Chile va a poder seguir avanzando, seguir contribuyendo a resolver los problemas, seguir impulsando una mejor calidad de vida y contribuyendo a que todos nuestros compatriotas puedan tener una vida más plena y más feliz.: 15.0,\n",
       " Ésa es la razón que me hace levantarme muy temprano todas las mañanas y acostarme muy tarde todas las noches, porque ése es el deber que como Presidente de Chile yo siento con todos mis compatriotas.: 1.5,\n",
       " Muchas gracias.: 0.03125}"
      ]
     },
     "execution_count": 21,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "sentence_scores"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 22,
   "metadata": {},
   "outputs": [],
   "source": [
    "from heapq import nlargest"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 45,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "1"
      ]
     },
     "execution_count": 45,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "select_length = int(len(sentence_tokens)*0.1)\n",
    "select_length"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 46,
   "metadata": {},
   "outputs": [],
   "source": [
    "summary = nlargest(select_length, sentence_scores, key = sentence_scores.get)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 47,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "[Y también hacer un ferviente llamado a todos los hombres y mujeres de buena voluntad en nuestro país, que somos la inmensa mayoría de los chilenos a unirnos férreamente contra la violencia desatada, contra la delincuencia gravísima que hemos conocido en los últimos días, que tanto daño le causaron a nuestro país y especialmente a nuestros sectores más vulnerables y a nuestra clase media\n",
       " Estoy convencido que con la unidad de todos los chilenos en un mundo difícil como los tiempos que estamos viviendo, Chile va a poder seguir avanzando, seguir contribuyendo a resolver los problemas, seguir impulsando una mejor calidad de vida y contribuyendo a que todos nuestros compatriotas puedan tener una vida más plena y más feliz.]"
      ]
     },
     "execution_count": 47,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "summary"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 48,
   "metadata": {},
   "outputs": [],
   "source": [
    "final_summary = [word.text for word in summary]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 49,
   "metadata": {},
   "outputs": [],
   "source": [
    "summary = ' '.join(final_summary)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 50,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Queridos compatriotas. Frente a los graves y reiterados ataques y atentados contra las estaciones y las instalaciones del Metro de Santiago, contra el orden público y la seguridad ciudadana y contra la propiedad tanto público como privada que hemos conocido en los últimos días de la ciudad de Santiago que han afectado gravemente la libre circulación y la seguridad de los habitantes de la ciudad de Santiago y además han alterado gravemente el orden público, y haciendo uso de las facultades que como Presidente de Chile me otorga la Constitución y la Ley he decretado Estado de Emergencia en las provincias de Santiago y Chacabuco y en las comunas de Puente alto y San Bernardo en la Región Metropolitana.\n",
      "Para estos efectos he designado al General de División Javier Iturriaga del Campo como Jefe de la Defensa Nacional de acuerdo a lo establecido en nuestra legislación respecto de Estado de Emergencia.}\n",
      "El objetivo de este Estado de Emergencia es muy simple, pero muy profundo. asegurar el orden público, asegurar la tranquilidad de los habitantes de la ciudad de Santiago, proteger los bienes tanto públicos como privados y, por sobre todo, garantizar los derechos de todos y cada uno de nuestros compatriotas que se han visto seriamente conculcados por la acción de verdaderos delincuentes que no respetan a nada ni a nadie, que están dispuesto a destruir una institución tan útil y necesaria como es el Metro, y que además no respetan los derechos ni las libertades de sus compatriotas.\n",
      "Adicionalmente, como lo anunciamos el día de hoy hemos invocado la Ley de Seguridad del Estado a través de querellas que persiguen el objetivo de que las personas que han cometido esos gravísimos actos de delincuencia enfrenten a la justicia y asuman sus responsabilidades.\n",
      "En una democracia, un estado de derecho como el que con tanto esfuerzo hemos construido todos los chilenos en nuestro país, no debe haber espacio alguno para la violencia ni la delincuencia que hemos conocido en los últimos días en nuestra ciudad.\n",
      "Como Presidente estoy absolutamente consciente de las dificultades y de las carencias que afectan a muchos de nuestros compatriotas, y quiero decirlo en forma muy clara. que contribuir a resolver sus problemas, a crearles oportunidades oportunidad y ayudarlos a cumplir sus sueños es el norte, el principal norte que guía cada uno de los actos de nuestro Gobierno.\n",
      "El alza ocurrida en los precios de los pasajes del Metro obedece al mandato de la ley, responde al alza que ha ocurrido en el precio del dólar, en el precio del petróleo y fue determinado por un panel de expertos tal como lo establece la ley.\n",
      "Pero yo comprendo perfectamente bien y solidarizo con muchos de mis compatriotas que se ven afectados por ese tipo de alzas. Por esa razón, en los próximos días nuestro Gobierno va a convocar a un diálogo transversal y va a hacer todos los esfuerzos a nuestro alcance para poder atenuar y aliviar la situación de nuestros compatriotas que se han visto afectados por esta alza en el precio del Metro, de forma tal de poder contribuir a que los más vulnerables y los más necesitados tengan la ayuda que necesitan.\n",
      "Quiero terminar estas palabras agradeciendo sinceramente a Carabineros de Chile y a los Bomberos de Chile por la entrega, por el sacrificio, por el compromiso que han demostrado por defender nuestra seguridad, por defender nuestra ciudad, por defender nuestro estado de derecho.\n",
      "Y también hacer un ferviente llamado a todos los hombres y mujeres de buena voluntad en nuestro país, que somos la inmensa mayoría de los chilenos a unirnos férreamente contra la violencia desatada, contra la delincuencia gravísima que hemos conocido en los últimos días, que tanto daño le causaron a nuestro país y especialmente a nuestros sectores más vulnerables y a nuestra clase media\n",
      "Estoy convencido que con la unidad de todos los chilenos en un mundo difícil como los tiempos que estamos viviendo, Chile va a poder seguir avanzando, seguir contribuyendo a resolver los problemas, seguir impulsando una mejor calidad de vida y contribuyendo a que todos nuestros compatriotas puedan tener una vida más plena y más feliz.\n",
      "Ésa es la razón que me hace levantarme muy temprano todas las mañanas y acostarme muy tarde todas las noches, porque ése es el deber que como Presidente de Chile yo siento con todos mis compatriotas.\n",
      "Muchas gracias.\n"
     ]
    }
   ],
   "source": [
    "print(text)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 51,
   "metadata": {
    "scrolled": true
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Y también hacer un ferviente llamado a todos los hombres y mujeres de buena voluntad en nuestro país, que somos la inmensa mayoría de los chilenos a unirnos férreamente contra la violencia desatada, contra la delincuencia gravísima que hemos conocido en los últimos días, que tanto daño le causaron a nuestro país y especialmente a nuestros sectores más vulnerables y a nuestra clase media\n",
      "Estoy convencido que con la unidad de todos los chilenos en un mundo difícil como los tiempos que estamos viviendo, Chile va a poder seguir avanzando, seguir contribuyendo a resolver los problemas, seguir impulsando una mejor calidad de vida y contribuyendo a que todos nuestros compatriotas puedan tener una vida más plena y más feliz.\n",
      "\n"
     ]
    }
   ],
   "source": [
    "print(summary)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 52,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "4360"
      ]
     },
     "execution_count": 52,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "len(texto)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 53,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "727"
      ]
     },
     "execution_count": 53,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "len(resumen)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.7.3"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
